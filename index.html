
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ESTRELLA G&C - Tienda en línea</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome para iconos -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <!-- Encabezado -->
  <header class="header bg-primary py-3">
    <div class="container d-flex flex-column flex-md-row align-items-center justify-content-center justify-content-md-between">
        <div class="d-flex align-items-center">
            <img src="img/logo.jpeg" alt="Logo tienda" class="logo me-3">
            <h1 class="text-white mb-0 text ">ESTRELLA G&C</h1>
        </div>
        
        <!-- BARRA DE BÚSQUEDA AQUÍ 
        <div class="search-bar ms-md-3 flex-grow-1 mx-3" style="max-width: 400px;">
            <div class="input-group">
                <input type="text" id="searchInput" class="form-control" placeholder="Buscar productos por nombre...">
                <button class="btn btn-outline-light" id="searchBtn">
                    <i class="fas fa-search"></i>
                </button>
            </div>
            <div id="searchResults" class="position-absolute bg-white shadow mt-1 w-100 d-none" 
                 style="z-index: 1000; max-height: 300px; overflow-y: auto; border-radius: 0 0 8px 8px;"></div>
        </div>
        
        <div class="mt-3 mt-md-0">
            <button id="verCarrito" class="btn btn-light carrito-btn">
                <i class="fas fa-shopping-cart"></i> Carrito (<span id="cantidadCarrito">0</span>)
            </button>
            <a href="admin.html" class="btn btn-outline-light ms-2">
                <i class="fas fa-cog"></i> Admin
            </a>
        </div>  -->
    </div>
</header>

  <!-- Barra de Navegación -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-secondary sticky-top">
    <div class="container">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Menú de categorías desplegable -->
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-3">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
              <i class="fas fa-th-large me-1"></i>Categorías
            </a>
            <ul class="dropdown-menu dropdown-menu-dark" id="categoriasDropdown">
              <!-- Las categorías se cargarán dinámicamente aquí -->
            </ul>
          </li>
        </ul>

        <!-- BARRA DE BÚSQUEDA -->
        <div class="search-bar flex-grow-1 me-3" style="max-width: 500px;">
          <div class="input-group">
            <input type="text" id="searchInput" class="form-control" placeholder="Buscar productos por nombre...">
            <button class="btn btn-outline-light" id="searchBtn">
              <i class="fas fa-search"></i>
            </button>
          </div>
          <div id="searchResults" class="position-absolute bg-white shadow mt-1 w-100 d-none" 
               style="z-index: 1021; max-height: 300px; overflow-y: auto; border-radius: 0 0 8px 8px;"></div>
        </div>

        <!-- CARRITO Y ADMIN -->
        <div class="d-flex align-items-center ms-auto">
          <button id="verCarrito" class="btn btn-light carrito-btn me-2">
            <i class="fas fa-shopping-cart"></i> Carrito (<span id="cantidadCarrito">0</span>)
          </button>
          <a href="admin.html" class="btn btn-outline-light">
            <i class="fas fa-cog"></i> Admin
          </a>
        </div>
      </div>
    </div>
  </nav>

  
 <!-- Sección de categorías -->
    <div class="row mb-4">
      <div class="col-12">
        <h2 class="text-center mb-4">Nuestras Categorías</h2>
        <div class="d-flex flex-wrap justify-content-center gap-2" id="categoriasNav">
          <!-- Las categorías se cargarán dinámicamente -->
        </div>
      </div>
    </div>

  <!-- Sección de Video Promocional -->
  <section class="video-promocional py-5 bg-light">
    <div class="container">
      <h2 class="text-center mb-4">Tutorial para comprar en ESTRELLA G&C</h2>
      <div class="row justify-content-center">
        <div class="col-md-10 col-lg-8">
          <div class="ratio ratio-16x9">
            <iframe src="https://www.youtube.com/embed/9kBrCcxPX74" title="Video promocional" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="rounded shadow"></iframe>
          </div>
          <p class="text-center mt-3">Descubre la calidad de nuestros productos</p>
        </div>
      </div>
    </div>
  </section>

  

 <!-- Reemplaza la sección de productos en index.txt -->
<main class="productos py-5">
  <div class="container">

    <!-- Sección de categorías 
    <div class="row mb-4">
      <div class="col-12">
        <h2 class="text-center mb-4">Nuestras Categorías</h2>
        <div class="d-flex flex-wrap justify-content-center gap-2" id="categoriasNav">
          <!-- Las categorías se cargarán dinámicamente 
        </div>
      </div>
    </div>
-->
    <!-- Filtro activo -->
    <div class="row mb-3">
      <div class="col-12">
        <div class="alert alert-info d-flex justify-content-between align-items-center" id="filtroActivo" style="display: none!important;">
          <span>Mostrando: <strong id="categoriaActual">Todas las categorías</strong></span>
          <button class="btn btn-sm btn-outline-secondary" id="mostrarTodos">Mostrar todos</button>
        </div>
      </div>
    </div>

    <!-- Productos organizados por categorías -->
    <div id="productosPorCategoria">
      <!-- Los productos se cargarán aquí organizados por categoría -->
    </div>
  </div>
</main>

  <!-- Modal del carrito -->
  <div class="modal fade" id="carritoModal" tabindex="-1" aria-labelledby="carritoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="carritoModalLabel">Carrito de Compras</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <ul id="listaCarrito" class="list-group mb-3"></ul>
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h5>Total: <strong id="totalCarrito">$0.00</strong></h5>
          </div>

          <div class="accordion mb-3" id="acordionPagoEntrega">
            <div class="accordion-item">
              <h2 class="accordion-header">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                  Opciones de entrega y pago
                </button>
              </h2>
              <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#acordionPagoEntrega">
                <div class="accordion-body">
                  <div class="row">
                    <div class="col-md-6">
                      <h6>Tipo de entrega</h6>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="entrega" id="domicilio" value="domicilio" checked>
                        <label class="form-check-label" for="domicilio">Entrega a domicilio</label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="entrega" id="sucursal" value="sucursal">
                        <label class="form-check-label" for="sucursal">Recolección en sucursal</label>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <h6>Forma de pago</h6>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="pago" id="pagoTarjeta" value="tarjeta" checked>
                        <label class="form-check-label" for="pagoTarjeta">Tarjeta</label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="pago" id="pagoSucursal" value="sucursal">
                        <label class="form-check-label" for="pagoSucursal">Pago en sucursal</label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="pago" id="pagoTransferencia" value="transferencia">
                        <label class="form-check-label" for="pagoTransferencia">Transferencia</label>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div id="datosTarjeta" class="p-3 mb-3 bg-light rounded" style="display: none;">
            <h6>Datos de tarjeta</h6>
            <div class="row">
              <div class="col-md-12 mb-2">
                <label for="numTarjeta" class="form-label">Número de tarjeta</label>
                <input type="text" class="form-control" id="numTarjeta" placeholder="0000 0000 0000 0000" maxlength="19">
              </div>
              <div class="col-md-6 mb-2">
                <label for="nombreTarjeta" class="form-label">Nombre en la tarjeta</label>
                <input type="text" class="form-control" id="nombreTarjeta" placeholder="Como aparece en la tarjeta">
              </div>
              <div class="col-md-3 mb-2">
                <label for="vencimiento" class="form-label">Vencimiento (MM/AA)</label>
                <input type="text" class="form-control" id="vencimiento" placeholder="MM/AA" maxlength="5">
              </div>
              <div class="col-md-3 mb-2">
                <label for="cvv" class="form-label">CVV</label>
                <input type="text" class="form-control" id="cvv" placeholder="123" maxlength="4">
              </div>
            </div>
          </div>

          <div id="datosTransferencia" class="p-3 mb-3 bg-light rounded" style="display: none;">
            <h6>Datos para transferencia</h6>
            <p><strong>Realiza tu transferencia a:</strong><br>
            Banco: BBVA<br>
            Cuenta CLABE: 012345678901234567<br>
            Nombre: Tienda G&C</p>
            <div class="mb-2">
              <label for="folioTransferencia" class="form-label">Folio/comprobante de pago</label>
              <input type="text" class="form-control" id="folioTransferencia" placeholder="Folio o referencia de transferencia">
            </div>
          </div>

          <div id="formCliente">
            <h6>Datos del cliente</h6>
            <div class="mb-3">
              <label for="nombre" class="form-label">Nombre completo</label>
              <input type="text" class="form-control" id="nombre" placeholder="Tu nombre" required>
            </div>
            <div class="mb-3">
              <label for="telefono" class="form-label">Teléfono de contacto</label>
              <input type="tel" class="form-control" id="telefono" placeholder="Tu teléfono" required>
            </div>
            <div id="campoDireccion" class="mb-3">
              <label for="direccion" class="form-label">Dirección (si es a domicilio)</label>
              <textarea class="form-control" id="direccion" rows="2" placeholder="Calle, número, colonia, etc."></textarea>
            </div>
          </div>

          <div id="resumenCompra" class="resumen-compra mt-3"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Seguir comprando</button>
          <button id="finalizarCompra" class="btn btn-primary">Finalizar compra</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Pie de página -->
  <footer class="footer bg-dark text-white py-4">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <p class="mb-1">Contáctanos: estrellagc99@gmail.com</p>
          <p class="mb-1">Tel: 5576872157</p>
        </div>
        <div class="col-md-6 text-md-end">
          <p class="mb-1">Horario: Lunes a Sábado 8:00 - 21:30 hrs</p>
          <p class="mb-0">© 2025 ESTRELLA G&C. Todos los derechos reservados.</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- Nuestros scripts -->
  <script src="js/firebase.js"></script>
  <script src="js/script.js"></script>
  <script src="js/categorias.js"></script>
  <script src="js/busqueda.js"></script>
  <!-- SDK de Mercado Pago -->
<script src="https://sdk.mercadopago.com/js/v2"></script>
</body>
</html>